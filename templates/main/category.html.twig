{% extends '/base/base.html.twig' %}

{% block title %} Categories {% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

    <h1> {{ category.title }}</h1>
    {% if category.children is empty %}
        {% for products in  category.products %}
            <li style="margin-left: 50px">
                <a href="{{ path('product', {'productSlug' : products.slug, 'categorySlug' : category.slug}) }}"> {{ products.title }} </a>
            </li>
        {% endfor %}
    {% else %}
    <ul>
        {% for category in category.children  %}
            <li>
                <a href="{{ path('category', {'categorySlug' : category.slug}) }}"> {{ category.title }} </a>
                 </li>
        {% endfor %}
    </ul>
    {% endif %}


    {#{% for category in categories %}#}
        {#<h2>{{ category.title }}</h2>#}
        {#<ul>#}
            {#{% for secondOrderCategory in category.children %}#}
                {#<h3 style="margin-left:20px;">{{ secondOrderCategory.title }}</h3>#}
                    {#{% for products in  secondOrderCategory.products %}#}
                        {#<li style="margin-left: 50px">{{ products.title }}</li>#}
                    {#{% endfor %}#}
            {#{% endfor %}#}
        {#</ul>#}
    {#{% endfor %}#}
</div>
{% endblock %}
